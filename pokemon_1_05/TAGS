
heap.c,1020
struct heap_node 8,99
  heap_node_t *next;next9,118
  heap_node_t *prev;prev10,139
  heap_node_t *parent;parent11,160
  heap_node_t *child;child12,183
  void *datum;datum13,205
  uint32_t degree;14,220
  uint32_t mark;15,239
#define swap(18,260
#define splice_heap_node_lists(24,372
#define insert_heap_node_in_list(33,684
#define remove_heap_node_from_list(40,908
void print_heap_node(45,1041
void print_heap(61,1363
void print_heap_node_list(78,1665
void heap_init(94,1864
void heap_node_delete(104,2100
void heap_delete(122,2404
heap_node_t *heap_insert(heap_insert133,2569
void *heap_peek_min(heap_peek_min153,2895
static void heap_link(158,2971
static void heap_consolidate(172,3293
void *heap_remove_min(heap_remove_min213,4226
int heap_combine(248,4760
static void heap_cut(277,5411
static void heap_cascading_cut(291,5692
int heap_decrease_key(305,5918
int heap_decrease_key_no_replace(319,6160
int32_t compare(343,6734
char *print_int(print_int348,6833
int main(357,6951

heap.h,245
# define HEAP_H2,15
typedef struct heap_node heap_node_t;11,114
typedef struct heap 13,153
  heap_node_t *min;min14,175
  uint32_t size;15,195
  int32_t (*compare)compare16,212
  void (*datum_delete)datum_delete17,269
} heap_t;18,301

poke327.c,4886
#define COLOR_GREY 16,275
#define COLOR_MUSTARD 17,296
#define COLOR_LIGHT_GREY 18,321
#define COLOR_LIGHT_BROWN 19,349
#define COLOR_BROWN 20,378
#define COLOR_LIGHTER_BROWN 21,401
#define COLOR_LIGHT_GREEN 22,432
#define malloc(24,462
typedef struct path 31,873
  heap_node_t *hn;hn32,895
  uint8_t pos[pos33,914
  uint8_t from[from34,932
  int32_t cost;35,951
} path_t;36,967
typedef enum dim 38,978
typedef enum dim { dim_x,38,978
typedef enum dim { dim_x, dim_y,38,978
typedef enum dim { dim_x, dim_y, num_dims 38,978
typedef enum dim { dim_x, dim_y, num_dims } dim_t;38,978
typedef int16_t pair_t[pair_t40,1030
#define MAP_X 42,1065
#define MAP_Y 43,1082
#define MIN_TREES 44,1099
#define MIN_BOULDERS 45,1120
#define TREE_PROB 46,1144
#define BOULDER_PROB 47,1165
#define WORLD_SIZE 48,1189
#define MIN_TRAINERS 49,1212
#define ADD_TRAINER_PROB 50,1235
#define mappair(52,1264
#define mapxy(53,1321
#define heightpair(54,1356
#define heightxy(55,1419
typedef enum __attribute__((__packed__)) terrain_type 57,1461
  ter_boulder,58,1517
  ter_tree,59,1532
  ter_path,60,1544
  ter_mart,61,1556
  ter_center,62,1568
  ter_grass,63,1582
  ter_clearing,64,1595
  ter_mountain,65,1611
  ter_forest,66,1627
  num_terrain_types67,1641
} terrain_type_t;68,1661
typedef enum __attribute__((__packed__)) movement_type 70,1680
  move_hiker,71,1737
  move_rival,72,1751
  move_pace,73,1765
  move_wander,74,1778
  move_sentry,75,1793
  move_walk,76,1808
  move_pc,77,1821
  num_movement_types78,1832
} movement_type_t;79,1853
typedef enum __attribute__((__packed__)) character_type 81,1873
  char_pc,82,1931
  char_hiker,83,1942
  char_rival,84,1956
  char_other,85,1970
  num_character_types86,1984
} character_type_t;87,2006
typedef enum __attribute__((__packed__)) color_type 89,2027
  color_dummy,90,2081
  color_pc,91,2096
  color_boulder,92,2108
  color_tree,93,2125
  color_path,94,2139
  color_mart,95,2153
  color_center,96,2167
  color_grass,97,2183
  color_clearing,98,2198
  color_mountain,99,2216
  color_forrest,100,2234
  color_hiker,101,2251
  color_rival,102,2266
  color_pacer,103,2281
  color_wanderer,104,2296
  color_stationary,105,2314
  color_random_walker,106,2334
  num_colors,107,2357
} color_type_t;108,2371
static int32_t move_cost[move_cost110,2388
typedef struct pc 117,2729
} pc_t;118,2749
typedef struct npc 120,2758
  character_type_t ctype;121,2779
  movement_type_t mtype;122,2805
  pair_t dir;123,2830
} npc_t;124,2844
typedef struct character 126,2854
  npc_t *npc;npc127,2881
  pc_t *pc;pc128,2895
  pair_t pos;129,2907
  char symbol;130,2921
  int next_turn;131,2936
} character_t;132,2953
typedef struct map 134,2969
  terrain_type_t map[map135,2990
  uint8_t height[height136,3026
  character_t *cmap[cmap137,3058
  heap_t turn;138,3093
  int8_t n,139,3108
  int8_t n, s,139,3108
  int8_t n, s, e,139,3108
  int8_t n, s, e, w;139,3108
} map_t;140,3129
typedef struct queue_node 142,3139
  int x,143,3167
  int x, y;143,3167
  struct queue_node *next;next144,3179
} queue_node_t;145,3206
typedef struct world 147,3223
  map_t *world[world148,3246
  pair_t cur_idx;149,3286
  map_t *cur_map;cur_map150,3304
  int hiker_dist[hiker_dist153,3429
  int rival_dist[rival_dist154,3461
  character_t pc;155,3493
  int num_trainers;156,3511
} world_t;157,3531
world_t world;161,3698
static pair_t all_dirs[all_dirs163,3714
#define rand_dir(167,3822
static void move_hiker_func(174,4232
static void move_rival_func(197,4951
static void move_pacer_func(220,5669
static void move_wanderer_func(243,6601
static void move_sentry_func(265,7503
static void move_walker_func(270,7628
static void move_pc_func(295,8579
static int32_t path_cmp(305,8900
static int32_t edge_penalty(309,9021
static void dijkstra_path(313,9147
static int build_paths(410,12823
static int gaussian[gaussian498,14437
static int smooth_height(504,14678
static void find_building_location(641,18238
static int place_pokemart(671,19596
static int place_center(684,19872
static int map_terrain(697,20154
static int place_boulders(861,24082
static int place_trees(876,24406
void rand_pos(891,24720
void new_hiker(896,24837
void new_rival(918,25355
void new_char_other(941,25932
void place_characters(979,26762
int32_t cmp_char_turns(1002,27245
void delete_character(1006,27385
void init_pc(1015,27531
#define ter_cost(1034,27932
static int32_t hiker_cmp(1036,27986
static int32_t rival_cmp(1043,28281
void pathfind(1050,28576
static int new_map(1264,38537
static void print_map(1339,40607
void init_world(1389,41847
void delete_world(1394,41947
void game_loop(1411,42327
void init_colors(1507,44679
void show_intro_screen(1528,45500
void check_screen_size(1539,45754
void init_window(1554,46093
int main(1564,46244
